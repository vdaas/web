window.onload=async()=>{initSidebar();const a=checkGitHubStar();if(a.flag){let b=document.getElementById("git-star-num");b.innerHTML=a.count}else{const a=await getGitHubStar();if(a.stargazers_count){let b=document.getElementById("git-star-num");b.innerHTML=a.stargazers_count;const c={createdAt:Date.now(),count:a.stargazers_count};localStorage.setItem("github-star",JSON.stringify(c))}}if(0<location.hash.length){const a=document.getElementsByClassName("header__nav")[0].offsetHeight;window.scrollBy(0,-a),setTimeout(()=>{scrollTocNav(location.hash.replace("#",""))},100)}else window.scroll(0,0)},window.onclick=a=>{let b=getElemByEvent(a);if(""===b.id&&"highlight"===b.className){const a=b.children[0].children[0].innerText;navigator.clipboard.writeText(a).then(()=>{b.classList.contains("clicked")?b.classList.remove("clicked"):(b.classList.add("clicked"),setTimeout(()=>{b.classList.remove("clicked")},500))}).catch(()=>{console.log("failed to copy code")})}else if("current"===b.id)toggleTocNav();else if(b.className.includes("version__")||b.className.includes("__version"))"header__version"==b.className||"version__current"==b.className?toggleVersion():setVersion(b);else if("list-button"===b.id)toggleSideAll(),toggleTocNav(!0);else if(b.id.startsWith("cat_"))toggleSidebar(b),toggleTocNav(!0);else if(b.href){let a=b.href.split("/").slice(-1)[0];a.startsWith("#")&&setTimeout(()=>{scrollTocNav(a.replace("#",""))},200),toggleTocNav(!0)}},window.onscroll=()=>{var a=Math.abs;const b=document.querySelectorAll(".markdown h2, .markdown h3");let c="",d=1e5,e="",f=1e5;for(let g of b){const b=g.getBoundingClientRect().top-64;0>b&&a(0-b)<d?(d=a(0-b),c=g.id):0<b&&a(0-b)<f&&(f=a(0-b),e=g.id)}c?d<f?scrollTocNav(c):scrollTocNav(e):scrollTocNav(e)},function(){function a(){e.classList.add("header__list--open")}function b(){e.classList.remove("header__list--open")}function c(){h.classList.add("open")}function d(){h.classList.remove("open")}const e=document.getElementById("menu"),f=document.getElementById("nav-btn"),g=document.querySelectorAll("a[href^=\"#\"]");g.forEach(function(a){a.addEventListener("click",b)}),f.addEventListener("click",function(){e.classList.contains("header__list--open")?b():a()});const h=document.getElementById("current");document.addEventListener("click",h,function(){h.classList.contains("open")?d():c()});const i=document.getElementById("header").offsetHeight;let j=(a,b)=>{let c,d=window.pageYOffset;const e=5,f=a.getBoundingClientRect(),g=f.top+d-b;(function(){var a=Math.round;let b=arguments.callee;return c=d+a((g-d)/8),window.scrollTo(0,c),d=c,document.body.clientHeight-window.innerHeight<c?void window.scrollTo(0,document.body.clientHeight):void(c>=g+e||c<=g-e?window.setTimeout(b,10):window.scrollTo(0,g))})()};const k=document.querySelectorAll("a[href*=\"#\"]");for(let a=0;a<k.length;a++)k[a].addEventListener("click",function(a){const b=a.currentTarget.getAttribute("href"),c=b.split("#"),d=c[1],e=document.getElementById(d);if(e)j(e,i);else return!0;return!1})}();const initSidebar=()=>{const a=document.getElementById("list-body"),b=window.location.href.split("/").filter(a=>{if(0!=a.length)return a});if(a){const c=b[b.length-1];for(let b of a.children){("docs"==c||c.match("v[0-9]+"))&&"withchild"==b.className&&(b.className="withchild open");let a=!1,d=document.getElementById(b.id);const e=d.getElementsByTagName("li");for(const b of e)"view"===b.className&&(a=!a);a&&(d.className="withchild open")}}},toggleSideAll=()=>{let a=document.getElementById("list-body"),b=document.getElementById("list-button");a&&(0<a.style.display.length?(a.style.display="",b.className="index open"):0===a.style.length&&(a.style.display="none",b.className="index"))},toggleSidebar=a=>{a.className=a.className.includes("open")?"withchild":"withchild open"},toggleTocNav=(a=!1)=>{let b=document.getElementById("current");b&&(a?b.className="current":b.className.includes("open")?b.className="current":b.className="current open")},scrollTocNav=a=>{let b=document.querySelectorAll(".current a");a="#"+a;for(const c of b)c.className=c.hash===a?"view":""},getElemByEvent=a=>{let b=a.target;return b.id||"dot"!==b.className&&"menu"!==b.className||(b=getParentByElem(b),!b.id&&"menu"===b.className&&(b=getParentByElem(b))),b},getParentByElem=a=>a.parentNode;function toggleVersion(){document.getElementById("version_details").open?document.getElementById("version_details").setAttribute("open",!0):document.getElementById("version_details").open=!1}const setVersion=a=>{if(""===a.text||a.text===void 0)document.getElementById("version_details").removeAttribute("open");else if(a.text.startsWith("v")){const c=document.getElementById("current_version").textContent.trim();document.getElementById("current_version").textContent=a.text,document.getElementById("version_details").removeAttribute("open");let d=location.href;const e=a.className.includes("latest")?"":a.text+"/";if(d.includes("/docs/")){let a="";1<d.split("/docs/").length&&(a=d.split("/docs/")[1].split("/")[0]);const b=a.match(/v\d{1}\.\d{1}/);d=0<a.length?a===c?d.replace(c+"/",e):b&&1===b.length?d.replace(a+"/",e):d.replace("/docs/","/docs/"+e):d.replace("/docs/","/docs/"+e),window.location.href=d}const f={header:document.getElementsByClassName("header__link"),footer:document.getElementsByClassName("footer__link"),lp:document.getElementsByClassName("mdl-link")};for(const d in f)if(f[d]!=null||null!=f[d])for(var b of f[d])b.href.includes(c)&&(b.href=b.href.replace("/"+c,"")),!a.className.includes("latest")&&b.href.includes("/docs")&&(b.href=b.href.replace("/docs","/docs/"+a.text))}document.getElementById("version_details").removeAttribute("open")},checkGitHubStar=()=>{let a=!1;count=0;const b=localStorage.getItem("github-star");if(b&&""!==b){const c=JSON.parse(b),d=Date.now()-c.createdAt;if(864e5>d)return a=!0,count=c.count,{flag:a,count}}return{flag:a,count}},getGitHubStar=async()=>{const a=await fetch("https://api.github.com/repos/vdaas/vald",{method:"GET",mode:"cors"}),b=await a.json();return b};function textTrim(){for(var a=document.getElementsByClassName("card__text"),b=60,c=0;c<a.length;c++)if(a[c].innerText.length>b){var d=a[c].innerText;d=d.substr(0,b-1),a[c].innerText=d+"\u2026"}}textTrim();