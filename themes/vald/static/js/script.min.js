window.onload=(()=>{initSidebar(),window.scroll(0,0),location.hash.length>0&&setTimeout(()=>{scrollTocNav(location.hash.replace("#",""))},100)}),window.onclick=(e=>{let t=getElemByEvent(e);if("current"===t.id)toggleTocNav();else{if("list-button"===t.id)toggleSideAll();else if(t.id.startsWith("menu_"))toggleSidebar(t);else if(t.href){let e=t.href.split("/").slice(-1)[0];e.startsWith("#")&&setTimeout(()=>{scrollTocNav(e.replace("#",""))},200)}toggleTocNav(!0)}}),window.onscroll=(()=>{const e=document.querySelectorAll(".markdown h2, .markdown h3");let t="",n=1e5,l="",o=1e5;for(let s of e){const e=s.getBoundingClientRect().top-64;e<0&&Math.abs(0-e)<n?(n=Math.abs(0-e),t=s.id):e>0&&Math.abs(0-e)<o&&(o=Math.abs(0-e),l=s.id)}scrollTocNav(t&&n<o?t:l)}),function(){const e=document.getElementById("menu"),t=document.getElementById("nav-btn");function n(){e.classList.remove("header__list--open")}document.querySelectorAll('a[href^="#"]').forEach(function(e){e.addEventListener("click",n)}),t.addEventListener("click",function(){e.classList.contains("header__list--open")?n():e.classList.add("header__list--open")});const l=document.getElementById("current");document.addEventListener("click",l,function(){l.classList.contains("open")?l.classList.remove("open"):l.classList.add("open")});const o=document.getElementById("header").offsetHeight;let s=(e,t)=>{let n,l=window.pageYOffset;const o=e.getBoundingClientRect().top+l-t;!function(){let e=arguments.callee;n=l+Math.round((o-l)/8),window.scrollTo(0,n),l=n,document.body.clientHeight-window.innerHeight<n?window.scrollTo(0,document.body.clientHeight):n>=o+5||n<=o-5?window.setTimeout(e,10):window.scrollTo(0,o)}()};const c=o,i=document.querySelectorAll('a[href*="#"]');for(let e=0;e<i.length;e++)i[e].addEventListener("click",function(e){const t=e.currentTarget.getAttribute("href").split("#")[1],n=document.getElementById(t);return!n||(s(n,c),!1)})}();const initSidebar=()=>{const e=document.getElementById("list-body");if(e)for(let t of e.children){let e=!1,n=document.getElementById(t.id);n.getElementsByTagName("li");for(const t of n.getElementsByTagName("li"))"view"===t.className&&(e=!e);e&&(n.className="withchild open")}},toggleSideAll=()=>{let e=document.getElementById("list-body"),t=document.getElementById("list-button");e&&(e.style.display.length>0?(e.style.display="",t.className="index open"):0===e.style.length&&(e.style.display="none",t.className="index"))},toggleSidebar=e=>{e.className.includes("open")?e.className="withchild":e.className="withchild open"},toggleTocNav=(e=!1)=>{let t=document.getElementById("current");t&&(e?t.className="current":t.className.includes("open")?t.className="current":t.className="current open")},scrollTocNav=e=>{let t=document.querySelectorAll(".current a");e="#"+e;for(const n of t)n.className=n.hash===e?"view":""},getElemByEvent=e=>{let t=e.target;return t.id||"dot"!==t.className&&"menu"!==t.className||(t=getParentByElem(t)).id||"menu"!==t.className||(t=getParentByElem(t)),t},getParentByElem=e=>e.parentNode;