window.onload=(()=>{initSidebar(),window.scroll(0,0)}),window.onclick=(e=>{let t=getElemByEvent(e);"current"===t.id?toggleTocNav():("list-button"===t.id?toggleSideAll():t.id.startsWith("menu_")&&toggleSidebar(t),toggleTocNav(!0))}),window.onscroll=(e=>{const t=document.querySelectorAll(".markdown h2, .markdown h3");let n="",l=1e5,o="",c=1e5;for(let e of t){const t=e.getBoundingClientRect().top-64;t<0&&Math.abs(0-t)<l?(l=Math.abs(0-t),n=e.id):t>0&&Math.abs(0-t)<c&&(c=Math.abs(0-t),o=e.id)}scrollTocNav(n&&l<c?n:o)}),function(){const e=document.getElementById("menu"),t=document.getElementById("nav-btn");function n(){e.classList.remove("header__list--open")}document.querySelectorAll('a[href^="#"]').forEach(function(e){e.addEventListener("click",n)}),t.addEventListener("click",function(){e.classList.contains("header__list--open")?n():e.classList.add("header__list--open")});const l=document.getElementById("current");document.addEventListener("click",l,function(){l.classList.contains("open")?l.classList.remove("open"):l.classList.add("open")});const o=document.getElementById("header").offsetHeight;let c=(e,t)=>{let n,l=window.pageYOffset;const o=e.getBoundingClientRect().top+l-t;!function(){let e=arguments.callee;n=l+Math.round((o-l)/8),window.scrollTo(0,n),l=n,document.body.clientHeight-window.innerHeight<n?window.scrollTo(0,document.body.clientHeight):n>=o+5||n<=o-5?window.setTimeout(e,10):window.scrollTo(0,o)}()};const s=o,i=document.querySelectorAll('a[href*="#"]');for(let e=0;e<i.length;e++)i[e].addEventListener("click",function(e){const t=e.currentTarget.getAttribute("href").split("#")[1],n=document.getElementById(t);return!n||(c(n,s),!1)})}();const initSidebar=()=>{const e=document.getElementById("list-body");if(e)for(let t of e.children){let e=!1,n=document.getElementById(t.id);n.getElementsByTagName("li");for(const t of n.getElementsByTagName("li"))"view"===t.className&&(e=!e);e&&(n.className="withchild open")}},toggleSideAll=()=>{let e=document.getElementById("list-body");e&&(e.style.display.length>0?e.style.display="":0===e.style.length&&(e.style.display="none"))},toggleSidebar=e=>{e.className.includes("open")?e.className="withchild":e.className="withchild open"},toggleTocNav=(e=!1)=>{let t=document.getElementById("current");t&&(e?t.className="current":t.className.includes("open")?t.className="current":t.className="current open")},scrollTocNav=e=>{let t=document.querySelectorAll(".current a");e="#"+e;for(const n of t)n.className=n.hash===e?"view":""},getElemByEvent=e=>{let t=e.target;return t.id||"dot"!==t.className&&"menu"!==t.className||(t=getParentByElem(t)).id||"menu"!==t.className||(t=getParentByElem(t)),t},getParentByElem=e=>e.parentNode;